# Дубль два
Здесь будет фронт на Vue.js и сервера на FastAPI
# Терминология
- Глобальный пользователь — пользователь в системе message-hub, хранимый на сервере copper main
- Локальный пользователь — пользователь веба, хранимый на веб сервере (не фронт)
- Администратор — то же, что и локальный пользователь Веба
- Фронт — приложение на Vue.js, отображающее данные, который отправляет ему веб
- Веб — сервер на FastAPI, являющийся прослойкой между фронтом и copper main
- Чат — переписка пользователей. Имеет только chat_id. В одном чате может быть несколько пользователей
- Ожидающих чат — чат, в котором есть только пользователь (без администратора). Такой чат визуально отделяется от остальных
# Таблицы
1. user
# Веб
Что такое веб? Веб это сервера на FastAPI, через который будет происходить общение copper main с фронтом. Важно общаться с каждой системой на её языке.
Чаты создаются НЕ В ВЕБЕ. Чаты рождаются в copper main, после чего по запросу мы получаем список чатов пользователя.
**Обращения к copper main**
- Зарегистрировать платформу
    `register_plaform(url, platform_name)`
- Зарегистрировать глобального пользователя
    `register_user(platform_name, user_firstname) -> user_id` 
    При регистрации глобального пользователя отправляется имя платформы (например, 'web') и имя пользователя.
    Copper main возвращает нам id глобального пользователя(нового), который будет использоваться в качетсве id локального пользователя.
- *Получить список ожидающих чатов*
    `get_waiting_chats(user_id) -> list[Chat]`
- Подключить администратора к ожидающему чату
    `read_chat_by_user(user_id, chat_id) -> Chat`
- Добавить пользователя в чат
    `add_user_to_chat(user_id, chat_id) -> None`
- Получить список чатов пользователя (локальный)
    `get_chats_by_user(user_id) -> list[Chat]`
- Получить сообщения в чате
    `get_messages_from_chat(chat_id, count) -> list[Message]`
- Отправить сообщение в чат
    `send_message_to_chat(message) -> None`
    Отправляем сообщение в чат. Сообщение (message) содержит в себе как id отправителя, так и chat_id
# Фронт
Фронт — приложение на Vue.js, отображающее данные, который отправляет ему веб.

**Задачи фронта:**
* Выводить ожидающие чаты
* Выводить чаты локального пользователя
* Вывести сообщения в чате.
    При этом отделив сообщения текущего веб пользователя от остальных
* Отправить сообщение в чат.
    После отправки Администратором сообщения фронт обрабатывает его и перенаправляет в веб в нужном формате (Message)
